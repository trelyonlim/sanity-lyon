'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _startCase2 = require('lodash/startCase');

var _startCase3 = _interopRequireDefault(_startCase2);

var _capitalize2 = require('lodash/capitalize');

var _capitalize3 = _interopRequireDefault(_capitalize2);

exports.default = guessOrderingConfig;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const CANDIDATES = ['title', 'name', 'label', 'heading', 'header', 'caption', 'description'];

const PRIMITIVES = ['string', 'boolean', 'number'];

const isPrimitive = field => PRIMITIVES.includes(field.type);

function guessOrderingConfig(objectTypeDef) {
  let candidates = CANDIDATES.filter(candidate => objectTypeDef.fields.some(field => field.name === candidate));

  // None of the candidates were found, fallback to all fields
  if (candidates.length === 0) {
    candidates = objectTypeDef.fields.filter(isPrimitive).map(field => field.name);
  }

  return candidates.map(name => ({
    name: name,
    title: (0, _capitalize3.default)((0, _startCase3.default)(name)),
    by: [{ field: name, direction: 'asc' }]
  }));
}