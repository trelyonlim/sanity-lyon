'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.readAsText = readAsText;

var _observable = require('@sanity/observable');

var _observable2 = _interopRequireDefault(_observable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function readAsText(file /*: File*/) {
  return new _observable2.default(observer => {
    const reader = new FileReader();
    reader.onerror = error => observer.error(error);
    reader.onload = () => {
      observer.next(reader.result);
      observer.complete();
    };
    reader.readAsText(file);
    return () => {
      reader.abort();
    };
  });
}